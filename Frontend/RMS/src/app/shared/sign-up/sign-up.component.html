<form [formGroup]="myForm" fxLayoutAlign="center center">
  <div fxLayout="column" fxLayoutAlign="space-between center" class="SignIn">

    <!-- Name Input -->
    <div fxLayout="row" fxLayoutGap="30px" fxFlex="90px" class="input">
      <div class="label" fxFlex="40%">
        <mat-label>Name</mat-label>
      </div>
      <mat-form-field fxFlex="60%" class="field">
        <input matInput type="text" formControlName="name">
        <mat-error *ngIf="myForm.get('name')!.hasError('required') && myForm.get('name')!.touched">
          Name is required
        </mat-error>
      </mat-form-field>
    </div>

    <!-- Email Input -->
    <div fxLayout="row" fxLayoutGap="30px" fxFlex="90px" class="input">
      <div class="label" fxFlex="40%">
        <mat-label>Email</mat-label>
      </div>
      <mat-form-field fxFlex="60%" class="field">
        <input matInput type="email" formControlName="email">
        <mat-error *ngIf="myForm.get('email')!.hasError('required') && myForm.get('email')!.touched">
          Email is required
        </mat-error>
        <mat-error *ngIf="myForm.get('email')!.hasError('email') && myForm.get('email')!.touched">
          Please enter a valid email
        </mat-error>
      </mat-form-field>
    </div>

    <!-- Password Input -->
    <div fxLayout="row" fxLayoutGap="30px" class="input">
      <div class="label" fxFlex="40%">
        <mat-label>Password</mat-label>
      </div>
      <mat-form-field fxFlex="60%" class="field">
        <input matInput [type]="hidePassword ? 'password' : 'text'" formControlName="password">
        <button mat-icon-button matSuffix (click)="togglePasswordVisibility()">
          <mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon></button>
        <mat-error *ngIf="myForm.get('password')!.hasError('required') && myForm.get('password')!.touched">
          Password is required
        </mat-error>
        <mat-error *ngIf="myForm.get('password')!.hasError('minlength') && myForm.get('password')!.touched">
          Password must be at least 6 characters
        </mat-error>
      </mat-form-field>
    </div>

    <!-- Role Dropdown -->
    <div fxLayout="row" fxLayoutGap="30px" class="input">
      <div class="label" fxFlex="40%">
        <mat-label>Role</mat-label>
      </div>
      <mat-form-field fxFlex="60%" class="field">
        <mat-select formControlName="role">
          <mat-option value="Admin">Admin</mat-option>
          <mat-option value="User">User</mat-option>
        </mat-select>
        <mat-error *ngIf="myForm.get('role')!.hasError('required') && myForm.get('role')!.touched">
          Role is required
        </mat-error>
      </mat-form-field>
    </div>

    <!-- PhoneNumber Input -->
    <div fxLayout="row" fxLayoutGap="30px" fxFlex="90px" class="input">
      <div class="label" fxFlex="40%">
        <mat-label>PhoneNumber</mat-label>
      </div>
      <mat-form-field fxFlex="60%" class="field">
        <input matInput type="text" formControlName="phoneNumber">
        <mat-error *ngIf="myForm.get('phoneNumber')!.hasError('required') && myForm.get('phoneNumber')!.touched">
          PhoneNumber is required
        </mat-error>
      </mat-form-field>
    </div>

    <!-- Address Input -->
    <div fxLayout="row" fxLayoutGap="30px" fxFlex="90px" class="input">
      <div class="label" fxFlex="40%">
        <mat-label>Address</mat-label>
      </div>
      <mat-form-field fxFlex="60%" class="field">
        <input matInput type="text" formControlName="address">
        <mat-error *ngIf="myForm.get('address')!.hasError('required') && myForm.get('address')!.touched">
          Address is required
        </mat-error>
      </mat-form-field>
    </div>

    <!-- Sign In Button -->
    <div fxLayout="row" fxLayoutAlign="space-evenly center" fxLayoutGap="30px">
      <button mat-raised-button class="btn" type="submit" (click)="backToLogin()">Back</button>
      <button mat-raised-button class="btn" type="submit" [disabled]="myForm.invalid" (click)="createUser()">Sign
        In</button>
    </div>
  </div>
</form>